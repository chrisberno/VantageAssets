<html>
<script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
<script src="https://rawgit.com/peterdhl88/VantageAssets/master/AR.js/aframe/build/aframe-ar.js"> </script>
</script>

<head>
  <style>
    button {
      margin-top: 20px;
      line-height: 60px;
      font-weight: bold;
      padding: 0 40px;
      background: rgba(127, 127, 127, 0.5);
      border: none;
    }

    button:hover {
      background: rgba(127, 127, 127, 0.75);
    }
  </style>
  <script>
      AFRAME.registerComponent('play-on-scan', {
        init: function () {
          var el = this.el; 
          onmousemove = function(e){
            console.log('I was clicked at: ');
            var tree = document.querySelector('#tree');
            tree.setAttribute('animation-mixer', { clip: 'VantageScene01'}); 
            tree.emit('ar-ready');
            //boxEl.setAttribute('position', mouse.x + " " + mouse.y + " -1");
            /* el.sceneEl.addEventListener('markerFound', function () {
            el.setAttribute('animation-mixer', { clip: '*' }); el.emit('ar-ready');
            console.log('I was clicked at: ');
          }); */
          //<a-entity gltf-model="#tree" position="3 5 -3.5" rotation="75 180 0" play-on-scan></a-entity>
          }
        }
      });
    </script>
</head>



<body style='margin : 0px; overflow: hidden;'>
  <a-scene embedded arjs>
    <a-assets>
      <a-asset-item id="tree" src="https://cdn.rawgit.com/peterdhl88/VantageAssets/master/anim/Unity2Skfb.gltf"></a-asset-item>
    </a-assets>
    <a-marker preset='custom' type='pattern' url='AR.js/three.js/examples/marker-training/examples/pattern-files/pwcQRmarkerPETE.patt'>
      <a-entity gltf-model="#tree" position="3 5 -3.5" rotation="75 180 0"></a-entity>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>
</body>

</html>